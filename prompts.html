<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prompt Library</title>
  <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
  <header class="topbar">
    
<button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle sidebar" title="Toggle sidebar">
  <svg id="hamburgerIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
  </svg>
  <svg id="closeIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" style="display:none;">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
  </svg>
  Menu
</button>


    <label for="search" id="searchLabel" style="display:none;">Search prompts</label>
    <input id="search" type="search" placeholder="Search prompts..." title="Search prompts" aria-labelledby="searchLabel">
  
    <label id="favLabel">
      <label for="favToggle">
        <input type="checkbox" id="favToggle" title="Show favorites">
        <span></span>
        Show favorites
      </label>
    </label>
  
    <label id="langLabel" for="langSelect">Language</label>
    <select id="langSelect" title="Select language">
      <option value="en">English</option>
      <option value="no">Norsk</option>
    </select>
  </header>

  <div id="infoBanner" class="info-banner"></div>


  <main class="layout">
    <aside>
      <h2>Categories</h2>
      <ul id="categoryList"></ul>
      <h3>Subcategories</h3>
      <ul id="subcategoryList"></ul>
    </aside>

    <section>
      <div id="breadcrumbs">
        <span>Select a category</span>
        <button id="resetFilters" style="display:none">Show All</button>
      </div>
      <div id="cards" class="cards"></div>
    </section>
  </main>

    <!-- Prompt modal -->
    <dialog id="promptDialog">
      <header>
        <h3 id="dlgTitle"></h3>
      </header>
      <pre id="dlgBody"></pre>
      <footer>
        <button id="copyPrompt">Copy</button>
        <button id="dlgClose">Close</button>
      </footer>
    </dialog>
    
    <script type="module" src="assets/js/app.optimized.js"></script>
    
    <script>
      (function () {
        const btn = document.getElementById('sidebarToggle');
        const hamburger = document.getElementById('hamburgerIcon');
        const close = document.getElementById('closeIcon');
        const sidebar = document.querySelector('.layout > aside');

        if (!btn || !sidebar) return;

        // Toggle sidebar open/close
        btn.addEventListener('click', () => {
          document.body.classList.toggle('sidebar-open');
          const isOpen = document.body.classList.contains('sidebar-open');
          hamburger.style.display = isOpen ? 'none' : 'block';
          close.style.display = isOpen ? 'block' : 'none';
        });

        // Handle category clicks (keep sidebar open)
        const categoryList = document.getElementById('categoryList');
        if (categoryList) {
          categoryList.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
              sidebar.querySelectorAll('#categoryList button').forEach(b => b.classList.remove('active'));
              e.target.classList.add('active');
              // sidebar stays open here
            }
          });
        }

        // Handle subcategory clicks (close sidebar)
        const subcategoryList = document.getElementById('subcategoryList');
        if (subcategoryList) {
          subcategoryList.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
              sidebar.querySelectorAll('#subcategoryList button').forEach(b => b.classList.remove('active'));
              e.target.classList.add('active');
              // close sidebar after subcategory chosen
              document.body.classList.remove('sidebar-open');
              hamburger.style.display = 'block';
              close.style.display = 'none';
            }
          });
        }
      })();
    </script>


    </body>
    
    </html>